<!DOCTYPE HTML>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>d3</title>

  <script src="https://d3js.org/d3.v3.min.js"></script>
</head>

<body>
  <button onclick="go()">go</button>
  <br>

  <script>
    const svg = d3.select('body').append('svg')
      .attr({
        width: '400px',
        height: '250px',
      });

    const box1 = svg.append('rect')
      .attr({ x: 0 });

    svg.selectAll('rect')
      .attr({
        width: '90px',
        height: '90px',
      });

    box1.attr({
      fill: 'green',
    });
      
    const go = () => {
      svg.selectAll('rect')
        .attr({
          y: 0,
        });

      box1.transition()
        .duration(1000)
        .attr({
          y: 100,
        }).transition()
        .duration(1000)
        .attr({
          x: 100,
        }).transition()
        .duration(1000)
        .attr({
          y: 0,
        }).transition()
        .duration(1000)
        .attr({
          x: 0,
        });
    };

    go();
  </script>

</body>

</html>
